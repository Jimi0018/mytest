#
# Copyright (c) 2017. Lorem ipsum dolor sit amet, consectetur adipiscing elit.
# www.hnapay.com
#
#server
server.port=1110
#server.context-path=/permission
server.use-forward-headers=false


#spring
spring.application.name=common-permission-server
spring.http.encoding.force=true
spring.http.encoding.charset=UTF-8
spring.http.encoding.enabled=true


# info
info.name=common-permission-server
info.author=leishun
info.version=3.0


# logging
logging.level.ROOT=info
logging.path=../../logs/${spring.application.name}/
logging.level.com.hnapay.common.permission.mapper=debug


#config
spring.cloud.config.name=${spring.application.name}
spring.cloud.config.label=${spring.application.name}
#spring.cloud.config.profile=${spring.profiles.active:default}
spring.cloud.config.discovery.enabled=true
spring.cloud.config.discovery.service-id=common-config
spring.cloud.config.fail-fast=false


# eureka
eureka.instance.instance-id=${spring.application.name}(${spring.cloud.client.ipAddress}:${server.port})
eureka.instance.appname=${spring.application.name}
eureka.instance.prefer-ip-address=true
# 租期更新时间间隔（默认30秒)
eureka.instance.lease-renewal-interval-in-seconds=10
#租期到期时间（默认90秒）不怕出错的话，时间可以更短
eureka.instance.lease-expiration-duration-in-seconds=20


# datasource
spring.jpa.database=oracle
spring.jpa.generate-ddl=false
spring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver
spring.datasource.type=org.apache.tomcat.jdbc.pool.DataSource
spring.datasource.tomcat.initial-size=15
spring.datasource.tomcat.max-idle=50
spring.datasource.tomcat.max-wait=30000
spring.datasource.tomcat.max-active=100
spring.datasource.tomcat.validation-query=select 1 from dual
spring.datasource.tomcat.test-on-borrow=true
spring.datasource.tomcat.remove-abandoned=true
spring.datasource.tomcat.remove-abandoned-timeout=60
spring.datasource.tomcat.log-abandoned=true


#mybatis
mybatis.mapper-locations=classpath:mybatis/mapper/*.xml
#mybatis.type-aliases-package=com.hnapay.common.permission.domain
mybatis.configuration.map-underscore-to-camel-case=true


#oauth
security.oauth2.resource.filter-order:3
# token有效期，默认1800s
security.oauth2.client.access-token-validity-seconds=1800
# refresh-token有效期，默认1天
security.oauth2.client.refresh-token-validity-seconds=86400

custom.security.authenticated-url=/security/*,/department/*,/operator/*,/resource/*,/role/*,/system/*
custom.security.public-resource=/security/getOperator,/resource/getAuthorizedResourceList,/security/updateOperator,/security/updatePassword

sysid.in.permission=1